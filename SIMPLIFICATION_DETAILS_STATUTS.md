# üìã Simplification des d√©tails de statuts

## üéØ Objectif

**R√®gle d'or : 1 statut = 3 infos max**

Le conducteur doit **comprendre d'un coup d'≈ìil**, pas lire un roman.

---

## ‚ùå Avant (trop de blocs, trop de texte)

```
D√©tails du statut : Maison Famille p

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üü° Chantier non mesur√©              ‚îÇ
‚îÇ Aucun co√ªt engag√© pour le moment.   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Ce qui pose question
‚Ä¢ Pas encore assez de donn√©es pour √©valuer la situation.
‚Ä¢ Objectif de marge d√©fini : 35.0% (13 300 ‚Ç¨)
‚Ä¢ Co√ªts engag√©s : 0 ‚Ç¨ (0% du montant total). La marge sera fiable lorsque davantage de co√ªts seront engag√©s.

Actions recommand√©es
‚Ä¢ Commencer √† saisir les co√ªts engag√©s (main d'≈ìuvre, mat√©riaux, etc.)
‚Ä¢ Documenter la situation terrain et les premiers √©v√©nements
‚Ä¢ Suivre l'avancement pour activer le suivi du statut

D√®s que les premiers co√ªts seront saisis, le statut deviendra calculable.
```

**Probl√®mes :**
- ‚ùå Trop de blocs (3-4)
- ‚ùå Trop de phrases longues
- ‚ùå D√©tails en % inutiles √† ce stade
- ‚ùå Rappels p√©dagogiques redondants
- ‚ùå Le message cl√© se perd

---

## ‚úÖ Apr√®s (clair et rapide)

```
D√©tails du statut : Maison Famille p

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üü§ Chantier non mesur√©              ‚îÇ
‚îÇ Aucun co√ªt saisi pour le moment     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Pourquoi ce statut ?
‚Ä¢ Aucun co√ªt engag√© enregistr√©
‚Ä¢ La marge actuelle ne peut pas encore √™tre calcul√©e

√Ä faire pour activer le suivi
‚Ä¢ Saisir les premiers co√ªts (MO, mat√©riaux, sous-traitance)
‚Ä¢ Ajouter un premier √©v√©nement terrain si n√©cessaire

D√®s qu'un premier co√ªt est saisi, le statut devient calculable.
```

**Am√©liorations :**
- ‚úÖ **3 blocs maximum**
- ‚úÖ **Phrases courtes et directes**
- ‚úÖ **Message cl√© visible imm√©diatement**
- ‚úÖ **Pas de d√©tails inutiles**

---

## üìä Structure pour chaque statut

### üü§ Non mesur√©

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üü§ Chantier non mesur√©              ‚îÇ
‚îÇ Aucun co√ªt saisi pour le moment     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Pourquoi ce statut ?
‚Ä¢ Aucun co√ªt engag√© enregistr√©
‚Ä¢ La marge actuelle ne peut pas encore √™tre calcul√©e

√Ä faire pour activer le suivi
‚Ä¢ Saisir les premiers co√ªts (MO, mat√©riaux, sous-traitance)
‚Ä¢ Ajouter un premier √©v√©nement terrain si n√©cessaire

D√®s qu'un premier co√ªt est saisi, le statut devient calculable.
```

---

### üü¢ Sous contr√¥le

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üü¢ Chantier sous contr√¥le           ‚îÇ
‚îÇ Situation stable √† ce stade         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Pourquoi ce statut ?
‚Ä¢ Marge en cours : 25.3%
‚Ä¢ Marge objectif : 22.0%
‚Ä¢ √âcart : +3.3 points

√Ä faire
‚Ä¢ Continuer √† saisir les co√ªts r√©guli√®rement
‚Ä¢ Documenter les √©v√©nements terrain importants

Le chantier avance comme pr√©vu. Continuez.
```

---

### üü† √Ä surveiller

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üü† Chantier √† surveiller            ‚îÇ
‚îÇ Des √©carts commencent √† appara√Ætre  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Probl√®me rencontr√©
‚Ä¢ Des co√ªts ou √©v√©nements r√©cents s'√©cartent du pr√©vu
‚Ä¢ La marge commence √† d√©river (-4.0 points)
‚Ä¢ Marge actuelle : 18.0% (objectif : 22.0%)

√Ä faire
‚Ä¢ V√©rifier l'origine des derniers co√ªts ou √©v√©nements
‚Ä¢ Documenter la situation terrain si ce n'est pas fait
‚Ä¢ D√©cider si l'√©cart doit √™tre corrig√©, r√©gularis√© ou assum√©

Sans suivi ou d√©cision, ce chantier peut basculer en risque.
```

---

### üî¥ √Ä risque

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üî¥ Chantier √† risque                ‚îÇ
‚îÇ La rentabilit√© et/ou le d√©lai       ‚îÇ
‚îÇ sont menac√©s                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Probl√®me rencontr√©
‚Ä¢ D√©passement financier confirm√©
‚Ä¢ √âcart : -12.0 points (objectif : 22.0%)
‚Ä¢ √âcart identifi√© sans d√©cision prise

√Ä faire
‚Ä¢ Corriger (organisation, co√ªts, planning)
‚Ä¢ R√©gulariser (avenant, refacturation)
‚Ä¢ Assumer l'impact et tracer la d√©cision
‚Ä¢ Documenter l'action choisie

Tant qu'aucune d√©cision n'est prise, le risque reste actif.
```

---

## üß† Principes de simplification

### 1. **Structure fixe : 3 blocs**

1. **En-t√™te color√©** : Emoji + Titre + Sous-titre
2. **Bloc explicatif** : "Pourquoi ce statut ?" ou "Probl√®me rencontr√©"
3. **Bloc action** : "√Ä faire" ou "√Ä faire pour activer le suivi"
4. **Phrase de fin** (1 seule ligne)

### 2. **Suppression des √©l√©ments inutiles**

‚ùå **Supprim√© :**
- "Ce qui pose question" (trop vague)
- D√©tails en % inutiles √† ce stade
- Rappels p√©dagogiques ("La marge sera fiable lorsque...")
- Textes redondants
- Listes trop longues (> 4 items)

‚úÖ **Conserv√© :**
- Informations critiques (√©cart, marge)
- Actions concr√®tes et directes
- Message de fin clair

### 3. **Langage direct**

**Avant :**
> "Pas encore assez de donn√©es pour √©valuer la situation. Co√ªts engag√©s : 0 ‚Ç¨ (0% du montant total). La marge sera fiable lorsque davantage de co√ªts seront engag√©s."

**Apr√®s :**
> "Aucun co√ªt engag√© enregistr√©. La marge actuelle ne peut pas encore √™tre calcul√©e."

### 4. **Hi√©rarchie visuelle**

- **Emoji** : Identification rapide du statut
- **Titre en gras** : Nom du statut
- **Sous-titre** : R√©sum√© en 1 ligne
- **Blocs espac√©s** : Lisibilit√©

---

## üé® Code impl√©ment√©

### Fonction `calculerRaisonsStatut` (simplifi√©e)

```typescript
const calculerRaisonsStatut = (chantier: Chantier) => {
  const raisons: { titre: string; raison: string }[] = [];
  
  // ... calculs ...
  
  const statut = calculerStatutReel(chantier);

  // üü§ NON MESUR√â
  if (statut === "non_mesure") {
    raisons.push({ 
      titre: "Pourquoi ce statut ?", 
      raison: "‚Ä¢ Aucun co√ªt engag√© enregistr√©\n‚Ä¢ La marge actuelle ne peut pas encore √™tre calcul√©e"
    });
    raisons.push({ 
      titre: "√Ä faire pour activer le suivi", 
      raison: "‚Ä¢ Saisir les premiers co√ªts (MO, mat√©riaux, sous-traitance)\n‚Ä¢ Ajouter un premier √©v√©nement terrain si n√©cessaire"
    });
    raisons.push({ 
      titre: "", 
      raison: "D√®s qu'un premier co√ªt est saisi, le statut devient calculable."
    });
    return raisons;
  }

  // üü¢ SOUS CONTR√îLE
  if (statut === "sous_controle") {
    raisons.push({ 
      titre: "Pourquoi ce statut ?", 
      raison: `‚Ä¢ Marge en cours : ${margeEnCoursPercent.toFixed(1)}%\n‚Ä¢ Marge objectif : ${margeReferencePercent.toFixed(1)}%\n‚Ä¢ √âcart : ${ecartPoints > 0 ? '+' : ''}${ecartPoints.toFixed(1)} points`
    });
    raisons.push({ 
      titre: "√Ä faire", 
      raison: "‚Ä¢ Continuer √† saisir les co√ªts r√©guli√®rement\n‚Ä¢ Documenter les √©v√©nements terrain importants"
    });
    raisons.push({ 
      titre: "", 
      raison: "Le chantier avance comme pr√©vu. Continuez."
    });
  }
  
  // üü† √Ä SURVEILLER
  else if (statut === "a_surveiller") {
    raisons.push({ 
      titre: "Probl√®me rencontr√©", 
      raison: `‚Ä¢ Des co√ªts ou √©v√©nements r√©cents s'√©cartent du pr√©vu\n‚Ä¢ La marge commence √† d√©river (${ecartPoints.toFixed(1)} points)\n‚Ä¢ Marge actuelle : ${margeEnCoursPercent.toFixed(1)}% (objectif : ${margeReferencePercent.toFixed(1)}%)`
    });
    raisons.push({ 
      titre: "√Ä faire", 
      raison: "‚Ä¢ V√©rifier l'origine des derniers co√ªts ou √©v√©nements\n‚Ä¢ Documenter la situation terrain si ce n'est pas fait\n‚Ä¢ D√©cider si l'√©cart doit √™tre corrig√©, r√©gularis√© ou assum√©"
    });
    raisons.push({ 
      titre: "", 
      raison: "Sans suivi ou d√©cision, ce chantier peut basculer en risque."
    });
  }
  
  // üî¥ √Ä RISQUE
  else if (statut === "a_risque") {
    let probleme = "";
    if (margeEnCoursPercent < 10) {
      probleme = "‚Ä¢ Marge critique : " + margeEnCoursPercent.toFixed(1) + "% (< 10%)";
    } else {
      probleme = "‚Ä¢ D√©passement financier confirm√©\n‚Ä¢ √âcart : " + ecartPoints.toFixed(1) + " points (objectif : " + margeReferencePercent.toFixed(1) + "%)";
    }

    raisons.push({ 
      titre: "Probl√®me rencontr√©", 
      raison: probleme + "\n‚Ä¢ √âcart identifi√© sans d√©cision prise"
    });
    raisons.push({ 
      titre: "√Ä faire", 
      raison: "‚Ä¢ Corriger (organisation, co√ªts, planning)\n‚Ä¢ R√©gulariser (avenant, refacturation)\n‚Ä¢ Assumer l'impact et tracer la d√©cision\n‚Ä¢ Documenter l'action choisie"
    });
    raisons.push({ 
      titre: "", 
      raison: "Tant qu'aucune d√©cision n'est prise, le risque reste actif."
    });
  }

  return raisons;
};
```

### Affichage simplifi√©

```typescript
return (
  <>
    {/* En-t√™te avec emoji et titre */}
    <div className={`p-4 rounded-lg border ${/* couleurs */}`}>
      <h3 className={`font-semibold text-lg flex items-center gap-2 ${/* couleurs */}`}>
        <span className="text-2xl">{emoji}</span>
        {titre}
      </h3>
      <p className="text-sm text-gray-300 mt-1">
        {sousTitre}
      </p>
    </div>

    {/* Affichage des raisons (max 3 blocs) */}
    {raisons.map((raison, idx) => (
      <div key={idx} className="space-y-2">
        {raison.titre && (
          <h4 className="font-semibold text-white text-sm">{raison.titre}</h4>
        )}
        <div className="text-sm text-gray-300 whitespace-pre-line">
          {raison.raison}
        </div>
      </div>
    ))}
  </>
);
```

---

## ‚úÖ R√©sultat

### Avant
- üìÑ **~200 mots** par statut
- ‚è±Ô∏è **30-45 secondes** de lecture
- üòµ **Fatigue cognitive**

### Apr√®s
- üìÑ **~50 mots** par statut
- ‚è±Ô∏è **5-10 secondes** de lecture
- ‚ú® **Compr√©hension imm√©diate**

---

## üéØ Philosophie

> **"Le conducteur doit comprendre, pas lire."**

- ‚úÖ **Visuel** : Emoji + couleurs
- ‚úÖ **Direct** : Phrases courtes
- ‚úÖ **Actionnable** : "√Ä faire" clair
- ‚úÖ **Rapide** : 3 blocs max

**R√©sultat :** Le conducteur sait imm√©diatement o√π il en est et quoi faire.

